name: personal-jira-project-management-skill-activation
description: Agent should load and use personal-jira-project-management skill when creating issues
type: skill_invocation
agent: ori

input:
  prompt: 'Create a new story for implementing user authentication. Link it to the Security Epic PROJ-100.'

mocks:
  jira:
    jira_create_issue:
      response:
        success: true
        issue:
          key: PROJ-999
          summary: 'Implement user authentication'
          status: 'To Do'
          issueType: 'Story'

expect:
  tool_calls:
    required:
      - name: jira_create_issue

  assertions:
    # Check response discusses issue creation
    - type: response_matches
      pattern: 'creat|issue|story|epic|link'
