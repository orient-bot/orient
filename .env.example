# =============================================================================
# Orient - Environment Configuration
# =============================================================================
# Copy this file to .env for local development:
#   cp .env.example .env
#
# The default values below work with Docker infrastructure out of the box.
# For production, change all passwords and secrets!
# =============================================================================

# Core environment
NODE_ENV=development
LOG_LEVEL=info
APP_TIMEZONE=UTC

# =============================================================================
# Database (PostgreSQL)
# =============================================================================
# These defaults match the Docker infrastructure initialization.
# Change for production!
POSTGRES_USER=aibot
POSTGRES_PASSWORD=aibot123
POSTGRES_DB=whatsapp_bot

# =============================================================================
# Object Storage (MinIO)
# =============================================================================
# Default MinIO credentials for local development.
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
S3_BUCKET=orienter-data

# =============================================================================
# Dashboard Configuration
# =============================================================================
DASHBOARD_PORT=4098
# JWT secret must be at least 32 characters. This default is for local dev only!
# For production, generate a secure 64+ character secret.
DASHBOARD_JWT_SECRET=dev-jwt-secret-for-local-development-only-change-in-production
DASHBOARD_DEFAULT_PERMISSION=read_only

# =============================================================================
# Secrets Encryption
# =============================================================================
# Master key for encrypting secrets stored in the database.
# Must be at least 32 characters. Generated automatically on fresh install.
# WARNING: If you change this key, existing secrets will become unreadable!
# To re-encrypt secrets after key change: source .env && npx tsx scripts/migrate-secrets-to-db.ts
ORIENT_MASTER_KEY=GENERATE_ON_INSTALL

# =============================================================================
# Server URLs
# =============================================================================
BASE_URL=http://localhost:4098
PRODUCTION_HOST=your-production-host.example.com

# OAuth callback configuration
OAUTH_CALLBACK_HOST=127.0.0.1
OAUTH_CALLBACK_PORT=8766
GOOGLE_OAUTH_CALLBACK_URL=http://127.0.0.1:8766/oauth/callback

# =============================================================================
# Domain Configuration (Production Only)
# =============================================================================
# Uncomment and configure for production deployment
# ORIENT_APP_DOMAIN=app.example.com
# ORIENT_CODE_DOMAIN=code.example.com
# ORIENT_STAGING_DOMAIN=staging.example.com
# ORIENT_CODE_STAGING_DOMAIN=code-staging.example.com
# ORIENT_SSL_DOMAINS=app.example.com,code.example.com

# =============================================================================
# Integrations (Optional - Configure via Dashboard)
# =============================================================================
# These can also be configured through the Dashboard UI at:
# http://localhost/dashboard/integrations/secrets

# JIRA
# JIRA_HOST=your-domain.atlassian.net
# JIRA_EMAIL=your-email@example.com
# JIRA_API_TOKEN=your-jira-api-token
# JIRA_PROJECT_KEY=YOUR_PROJECT
# JIRA_COMPONENT=YOUR_COMPONENT

# Slack
# SLACK_BOT_TOKEN=xoxb-your-bot-token
# SLACK_SIGNING_SECRET=your-slack-signing-secret
# SLACK_APP_TOKEN=xapp-your-app-token

# WhatsApp (Cloud API or Web)
# WHATSAPP_ADMIN_PHONE=+15551234567
# WHATSAPP_VERIFY_TOKEN=your-verify-token
# WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
# WHATSAPP_ACCESS_TOKEN=your-access-token

# Google OAuth (Calendar/Gmail/Tasks/Drive)
# GOOGLE_OAUTH_CLIENT_ID=your-google-client-id
# GOOGLE_OAUTH_CLIENT_SECRET=your-google-client-secret

# Google Slides (service account)
# GOOGLE_SLIDES_PRESENTATION_ID=your-presentation-id
# GOOGLE_APPLICATION_CREDENTIALS=credentials/service-account.json

# OpenAI / LLM providers
# OPENAI_API_KEY=your-openai-api-key
# ANTHROPIC_API_KEY=your-anthropic-api-key
# GEMINI_API_KEY=your-gemini-api-key

# =============================================================================
# BILLING DASHBOARD - API Keys for Cost Tracking
# =============================================================================
# These keys are used to fetch usage/billing data from provider APIs.
# They may be different from the keys used for actual AI operations.

# Anthropic Admin API Key (for Anthropic billing)
# Must start with sk-ant-admin (different from regular API keys!)
# Get from: Anthropic Console > Settings > Admin API Keys
# ANTHROPIC_ADMIN_KEY=sk-ant-admin-...

# OpenAI Billing Key (for usage/cost API access)
# Create under Organization > Admin keys or API keys with org-level access
# If not set, falls back to OPENAI_API_KEY
# OPENAI_BILLING_KEY=sk-...

# Google Cloud Billing (for Gemini/Veo costs)
# GOOGLE_BILLING_PROJECT_ID=your-gcp-project-id
# GOOGLE_SERVICE_ACCOUNT_KEY={"type":"service_account",...}

# =============================================================================
# BILLING PROJECT SCOPE - Filter to Specific Keys/Resources
# =============================================================================
# Use these to limit billing tracking to only the resources used by
# your project (vs organization-wide costs).

# Project name for display in dashboard
# BILLING_PROJECT_NAME=Orient Bot

# Anthropic: Filter by specific API key ID(s)
# Get your key ID from: console.anthropic.com > Settings > API Keys > click on key
# The ID appears in the URL (format: apikey_01JBCDEF...)
# Comma-separated for multiple keys
# BILLING_ANTHROPIC_KEY_IDS=apikey_01JBCDEF...

# R2: Filter by specific bucket(s)
# Defaults to S3_BUCKET if not set
# Comma-separated for multiple buckets
# BILLING_R2_BUCKETS=orienter-data

# =============================================================================
# Monitoring / SSH (Production Only)
# =============================================================================
# The monitoring dashboard SSHes into the production server to collect metrics.
# It runs commands like 'top', 'df', and 'docker stats' to gather system info.
#
# SSH_HOST: Falls back to OCI_HOST if not set. Only set this if you need a
#           different host than your OCI server (e.g., monitoring a separate server).
# SSH_USER: SSH username (default: opc for OCI instances)
# SSH key:  In Docker, mounted from ~/.ssh to /app/.ssh (see docker-compose.v2.yml)
#
# SSH_HOST=
# SSH_USER=opc
# MONITORING_ENABLED=true
# MONITORING_ALERT_USER_EMAIL=alerts@example.com

# =============================================================================
# Vercel (Documentation Deployment)
# =============================================================================
# VERCEL_TOKEN=your-vercel-token
# VERCEL_ORG_ID=your-vercel-org-id
# VERCEL_PROJECT_ID=your-vercel-project-id

# =============================================================================
# Version Check (Optional)
# =============================================================================
# Enable automatic version checking from a remote endpoint.
# If not set, version checking is disabled.
#
# The endpoint should return JSON: { "version": "1.2.3", "changelogUrl": "..." }
# VERSION_CHECK_ENDPOINT=https://objectstorage.region.oraclecloud.com/bucket/version.json
#
# Check interval in hours (default: 6)
# VERSION_CHECK_INTERVAL_HOURS=6
